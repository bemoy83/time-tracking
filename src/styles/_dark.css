/* ============================================================
   Dark Mode â€” Consolidated
   All dark-mode overrides in a single file for easy maintenance.
   ============================================================ */

@media (prefers-color-scheme: dark) {
  /* --- Design tokens --- */
  :root {
    --color-bg: #121212;
    --color-text: #f5f5f5;
    --color-text-muted: #a0a0a0;
    --color-border: #333333;
    --color-surface-hover: #4a4a4a;
    --color-recording-bg: #2d1f1f;
    --color-recording-border: #5c2929;
    --color-ready-bg: #1f2d1f;
  }

  /* --- Task Row --- */
  .task-row:hover {
    background: #252525;
  }

  .task-row:active {
    background: #2a2a2a;
  }

  .task-row--subtask {
    background: rgba(255, 255, 255, 0.03);
  }

  .task-row--blocked {
    background: #1e1e1e;
  }

  .task-row--blocked:hover {
    background: #252525;
  }

  .today-view__task-list {
    background: transparent;
  }

  .today-view__subtasks {
    background: transparent;
  }

  .task-row--subtask:hover {
    background: rgba(255, 255, 255, 0.06);
  }

  /* --- Task Detail --- */
  .task-detail__status-control--blocked {
    background: #d97706;
  }

  .task-detail__status-control--completed {
    background: #16a34a;
  }

  /* --- Shared Input --- */
  .input {
    background: #333;
    border-color: #555;
    color: var(--color-text);
  }

  /* --- Task Time Tracking --- */
  /* (outer background now provided by .expandable-section dark override) */

  /* --- Expandable Section & Task Card (shared section bg) --- */
  .expandable-section {
    background: #252525;
  }

  .task-card {
    background: #252525;
  }

  .task-card:hover:not(.task-card--active) {
    background: #2a2a2a;
  }

  .task-card:active:not(.task-card--active) {
    background: #2f2f2f;
  }

  /* --- Task Action Bar --- */
  .task-action-bar {
    background: var(--color-bg);
  }

  .task-action-bar__btn--secondary {
    background: #404040;
    border-color: #555;
  }

  .task-action-bar__btn--secondary:hover {
    background: #505050;
  }

  /* --- Modals / Dialogs --- */
  .alert-dialog {
    background: #2a2a2a;
  }

  .project-picker {
    background: #252525;
  }

  .delete-project-confirm {
    background: #252525;
  }

  .delete-project-confirm__option--unassign {
    background: #404040;
    border-color: #555;
  }
  .delete-project-confirm__option--unassign:hover {
    background: #505050;
  }
  .delete-project-confirm__option--delete {
    background: rgba(220, 38, 38, 0.15);
    border-color: rgba(220, 38, 38, 0.3);
  }
  .delete-project-confirm__option--delete:hover {
    background: rgba(220, 38, 38, 0.25);
  }

  /* --- Install Prompt --- */
  .install-prompt {
    background: #252525;
    border-color: #404040;
  }

  /* --- Project List --- */
  .project-list__create-form {
    background: #252525;
    border-color: #444;
  }

  /* --- Project Detail --- */
  .project-detail .btn--secondary {
    background: #404040;
  }
  .project-detail .btn--secondary:hover:not(:disabled) {
    background: #505050;
  }
  .project-detail .project-color-picker {
    border-color: #444;
  }

  /* --- Entry Modal --- */
  .entry-modal {
    background: #252525;
  }

  .entry-modal__person-hours {
    background: rgba(37, 99, 235, 0.15);
  }

  /* --- Stepper Pill --- */
  .stepper-pill {
    background: #404040;
  }
  .stepper-pill__btn:hover:not(:disabled) {
    background: #505050;
  }

  /* --- Timer Bar Workers Badge --- */
  .timer-bar__workers-badge {
    background: #404040;
    color: var(--color-text-muted);
  }
  .timer-bar__workers-badge:hover {
    background: #505050;
  }

  /* --- Time Entry Row --- */
  .time-entry-row:hover {
    background: rgba(255, 255, 255, 0.06);
  }

  /* --- Settings --- */
  .settings-view__row {
    background: #252525;
    border-color: #444;
  }

  /* --- Template Picker --- */
  .template-picker__row {
    background: #252525;
  }

  .template-picker__row:active {
    background: #2f2f2f;
  }

  .template-picker__row--selected {
    background: rgba(37, 99, 235, 0.15);
  }

  .template-picker__row--selected:active {
    background: rgba(37, 99, 235, 0.25);
  }
}
